<html><head><title>TreeSaver Featuring AngryBunny</title><style type="text/css">
.back1 {position:absolute; z-index: -1;}
.back2 {position:absolute; z-index: 0;}.standard {position:absolute; z-index: 1;}.overlay {position:absolute; z-index: 2;}</style></head><body><table id="standard" class='standard' cellpadding=0 cellspacing=0></table><table id="map-overlay" class='overlay' cellpadding=0 cellspacing=0></table><table class='overlay' style="top:430px"><tr>    <td></td>    <td><button type="button" id="upkey" onclick="walk(0)">W</button></td>    <td></td></tr><tr>    <td><button type="button" id="leftkey" onclick="walk(3)">A</button></td>    <td><button type="button" id="downkey" onclick="walk(2)">S</button></td>    <td><button type="button" id="rightkey" onclick="walk(1)">D</button></td></tr></table><table class='overlay' style="top:480px"><tr>    <td>B = <input type="button" id="tntBomb" onclick="plantTNT()" value="TNT"/></td>    <td>N = <input type="button" id="weapon2" onclick="special1()" value=""/></td>    <td>M = <input type="button" id="weapon3"/></td></tr><tr>    <td></td>    <td></td>    <td><button type="pauseb" id="pauseb" onclick="pauseButton()">Pause</button></td></tr></table>

<img id="AofD" src="images/AofD.jpg" name="AofD" class=back1 style="visibility: hidden;" height="10px" width="10px">
<img id="AofL" src="images/AofN.jpg" name="AofL" class=back2 style="visibility: hidden;" height="10px" width="10px">
<!--<embed src="01 Human After All.m4a" height=2 width=2 autostart=true hidden=true>-->
</body><script language="JavaScript">var tiles1 = new Array("1001", "1010", "1100","1001","1010","1100","1001","1010","1100","1001","1010","1100");var tiles2 = new Array("0101","1111","0101","0011","1010","0100","0001","1010","0110","0101","1111","0101");var tiles3 = new Array("0011","1010","0000","1000","1100","0001","0100","1001","1000","0000","1010","0110");var tiles4 = new Array("1001","1010","0100","0101","0011","0010","0010","0110","0101","0101","1001","1100");var tiles5 = new Array("0001","1100","0101","0101","1001","1100","1001","1100","0101","0101","0101","0101");var tiles6 = new Array("0001","0100","0001","0010","0010","0000","0000","0010","0010","0100","0101","0101");var tiles7 = new Array("0011","0010","0000","1100","1001","0000","0000","1100","1001","0100","0101","0101");var tiles8 = new Array("1001","1010","0100","0101","0001","0010","0010","0100","0101","0101","0101","0101");var tiles9 = new Array("0011","1010","0010","0000","0100","1111","1111","0001","0010","0110","0101","0101");var tiles10 = new Array("1001","1010","1100","0011","0010","1010","1000","0110","1001","1010","0110","0101");var tiles11 = new Array("0101","1111","0011","1010","1010","1010","0010","1010","0100","1111","1111","0101");var tiles12 = new Array("0011","1010","1010","1010","1010","1010","1010","1010","0010","1010","1010","0110");tileStat = new Array();tileStat[0] = new Array();tileStat[1] = new Array();tileStat[2] = new Array();tileStat[3] = new Array();tileStat[4] = new Array();tileStat[5] = new Array();tileStat[6] = new Array();tileStat[7] = new Array();tileStat[8] = new Array();tileStat[9] = new Array();tileStat[10] = new Array();tileStat[11] = new Array();tileStat[12] = new Array();tileStat[13] = new Array();var nodes = [tiles1,tiles2,tiles3,tiles4,tiles5,tiles6,tiles7,tiles8,tiles9,tiles10,tiles11,tiles12];var row=14;var col=20;var guy_row=2;var guy_col=3;var guy_dir=2;var cru_row=[9,9,-1,-1];var cru_col=[5,6,-1,-1];var cru_dir=[3,1,0,0];var hum_row=[11,0];var hum_col=[1,0];var hum_dir=[1,0];var bul_count=[1,1];var isFrozen=[0,0];var winnerCount=2;var killCount=0;var level=1;var NOpools=4;
var hmgun1timer=0;
var hmgun2timer=0;
var hmgun3timer=0;
var hmgun4timer=0;
var hmgun5timer=0;
var hmgun6timer=0;
var hmgun7timer=0;
var hmgun8timer=0;
var hmgun9timer=0;var bombTimer1 = 0;var bombTimer2 = 0;var special1Timer = 0;var bd3timer = 0;
var bd4timer = 0;var tntrow,tntcol,specrow,speccol,hm2timer,hm3timer,hm4timer,hm5timer,hm6timer,hm7timer,hm8timer,hm9timer;// Initializes tiles so that they are all set as city status and blank.var map = document.getElementById("standard");var overlay = document.getElementById("map-overlay");for(i=0;i<row;i++) {	var map_row = document.createElement("tr");	var overlay_row = document.createElement("tr");    for(j=0;j<col;j++) {        tileStat[i][j]=4;		var map_td = document.createElement("td");		var map_img = document.createElement("img");		map_img.src = "images/blank.jpg";		map_td.appendChild(map_img);		map_row.appendChild(map_td);		var overlay_td = document.createElement("td");		var overlay_img = document.createElement("img");		overlay_img.src = "images/blank.png";
		overlay_td.appendChild(overlay_img);		overlay_row.appendChild(overlay_td);    }	map.appendChild(map_row);	overlay.appendChild(overlay_row);}// Set forest tile statusesfor(i=0;i<9;i++) {    for(j=0;j<10;j++) {        tileStat[i][j]=1;    }}for(i=3;i<8;i++) {    tileStat[9][i]=1;}for(i=0;i<3;i++) {    for(j=10;j<12;j++) {        tileStat[i][j]=1;    }}// This loop sets up the table written in HTML above, and adds initial pictures to it.for (i=0;i<12;i++) {    for(j=0;j<12;j++) {        if(tileStat[i][j]=="1")            showTile("tr",i,j);        else            showTile("s",i,j);    }}// Make the starting points of the cruisers into bulldozed tilesfor (i=0;i<2;i++) {    showTile("bdd",cru_row[i],cru_col[i]);    tileStat[cru_row[i]][cru_col[i]] = 2;}
cruiserTimer1();cruiserTimer2();// Show starting point of humanshowTile("smr",11,1);
hm1timer = setInterval("moveHuman(0)",1200);guyLocation();document.onkeydown = KeyCheck;// initializer functionsfunction initializer1() {    guy_row=2;    guy_col=3;    guy_dir=2;    cru_row=[9,9];    cru_col=[5,6];    cru_dir=[3,1];    hum_row=[11,0];    hum_col=[1,0];    hum_dir=[1,0];    bul_count=[1,1];    isFrozen=[0,0];    winnerCount=2;    killCount=0;    NOpools=4;    for(i=0;i<row;i++) {        for(j=0;j<col;j++) {            tileStat[i][j]=4;
            document.images[col*i+j].src = "images/blank.jpg";
            document.images[col*row+col*i+j].src = "images/blank.png";        }    }    for(i=0;i<9;i++) {        for(j=0;j<10;j++) {            tileStat[i][j]=1;        }    }    for(i=3;i<8;i++) {        tileStat[9][i]=1;    }    for(i=0;i<3;i++) {        for(j=10;j<12;j++) {            tileStat[i][j]=1;        }    }    for (i=0;i<12;i++) {        for(j=0;j<12;j++) {            if(tileStat[i][j]=="1")                showTile("tr",i,j);            else                showTile("s",i,j);        }    }    for (i=0;i<2;i++) {        showTile("bdd",cru_row[i],cru_col[i]);        tileStat[cru_row[i]][cru_col[i]] = 2;    }    showTile("smr",11,1);    guyLocation();    if(bd1timer)        clearTimeout(bd1timer);    if(bd2timer)        clearTimeout(bd2timer);    if(hm1timer)        clearInterval(hm1timer);    if(hmgun1timer)        clearTimeout(hmgun1timer);    cruiserTimer1();    cruiserTimer2();    hm1timer = setInterval("moveHuman(0)",1200);}function initializer2() {    var forest1 = new Array("1001","1010","1010","1010","1010","1010","1010","1100","1001","1010","1000","1010","1010","1000","1000","1100","1111","1111","1001","1010","1000","1010","1100","1111","1111","1001","1100","1111");    var forest2 = new Array("0101","1001","1000","1000","1010","1010","1010","0110","0101","1111","0011","1010","1010","0100","0001","0110","1111","1111","0011","1010","0010","1100","0101","1111","1111","0101","0101","1111");    var forest3 = new Array("0101","0001","0000","0110","1001","1010","1010","1010","0100","1111","1111","1111","1111","0101","0101","1111","1111","1001","1000","1000","1010","0110","0101","1111","1111","0101","0101","1111");    var forest4 = new Array("0001","0000","0110","1111","0101","1111","1111","1111","0101","1111","1001","1000","1010","0110","0101","1111","1111","0001","0010","0110","1001","1000","0110","1111","1111","0101","0101","1111");    var forest5 = new Array("0001","0100","1111","1001","0100","1001","1010","1010","0010","1010","0100","0101","1111","1111","0101","1111","1111","0101","1111","1111","0101","0101","1001","1010","1010","0100","0101","1111");    var forest6 = new Array("0001","0100","1111","0101","0011","0000","1010","1010","1010","1010","0010","0010","1000","1100","0101","1111","1111","0101","1111","1111","0101","0101","0101","1111","1111","0011","0100","1111");    var forest7 = new Array("0001","0100","1111","0101","1111","0101","1111","1111","1111","1111","1001","1100","0011","0110","0101","1111","1111","0101","1111","1111","0101","0101","0101","1111","1111","1111","0001","1100");    var forest8 = new Array("0001","0100","1111","0101","1111","0001","1010","1010","1010","1010","0100","0101","1111","1111","0101","1111","1111","0101","1111","1111","0101","0101","0101","1111","1111","1111","0101","0101");    var forest9 = new Array("0101","0001","1100","0101","1111","0101","1111","1111","1111","1111","0011","0110","1001","1100","0101","1111","1111","0101","1111","1111","0101","0101","0101","1111","1111","1111","0101","0101");    var forest10 = new Array("0101","0011","0110","0011","1010","0010","1010","1010","1000","1010","1010","1010","0110","0101","0101","1111","1111","0101","1111","1111","0101","0001","0010","1100","1111","1111","0101","0101");    var forest11 = new Array("0001","1000","1100","1111","1111","1111","1111","1111","0001","1010","1010","1010","1010","0110","0001","1000","1010","0110","1111","1111","0011","0010","1010","0110","1111","1001","0100","0101");    var forest12 = new Array("0001","0010","0110","1111","1111","1111","1111","1111","0011","1010","1010","1010","1010","1100","0101","0101","1001","1100","1001","1100","1111","1111","1111","1111","1001","0000","0100","0101");    var forest13 = new Array("0001","1010","1010","1000","1010","1010","1010","1010","1000","1010","1010","1000","1010","0110","0101","0101","0001","0100","0011","0010","1000","1000","1000","1000","0000","0010","0110","0101");    var forest14 = new Array("0011","1010","1010","0110","1111","1111","1111","1111","0011","1010","1010","0110","1111","1111","0011","0110","0011","0010","1010","1010","0010","0010","0010","0010","0010","1010","1010","0110");    nodes2 = [forest1,forest2,forest3,forest4,forest5,forest6,forest7,forest8,forest9,forest10,forest11,forest12,forest13,forest14];    guy_row=2;    guy_col=2;    guy_dir=2;    cru_row=[-1,-1,11,6];    cru_col=[-1,-1,0,26];    cru_dir=[0,0,1,1];    winnerCount=2;
    hum_row=[-1,5,7,8,13,2,10,4,4];    hum_col=[-1,13,10,13,10,19,15,23,25];    hum_dir=[0,2,1,3,0,1,2,3,0];    bul_count=[1,1,1,1,1,1,1,1,1];    isFrozen=[0,0,0,0,0,0,0,0,0];    level=2;
    pageNumber=1;    for (i=0;i<row;i++) {        for(j=0;j<col;j++) {            document.images[col*i+j].src = "images/blank.jpg";
            document.images[col*row+col*i+j].src = "images/blank.png";        }    }    for (i=0;i<14;i++) {        for(j=0;j<28;j++) {            tileStat[i][j]=4;        }    }    for(i=0;i<2;i++) {        for(j=0;j<8;j++) {            tileStat[i][j]=1;
            tileStat[j+6][i+26]=1;        }    }    for(i=2;i<3;i++) {        for(j=0;j<4;j++) {            tileStat[i][j]=1;
            tileStat[j+10][i+23]=1;        }    }    for(i=3;i<4;i++) {        for(j=0;j<3;j++) {            tileStat[i][j]=1;
            tileStat[j+11][i+21]=1;        }    }    for(i=4;i<12;i++) {        for(j=0;j<2;j++) {            tileStat[i][j]=1;
            tileStat[j+12][i+12]=1;        }    }    for(i=8;i<12;i++) {        for(j=2;j<3;j++) {            tileStat[i][j]=1;
            tileStat[j+9][i+8]=1;        }    }
    for (i=0;i<14;i++) {        for(j=0;j<14;j++) {            if(tileStat[i][j]==4)
                showTile("s",i,j);
            else if(tileStat[i][j]==1)
                showTile("tr",i,j);        }    }
    for (i=1;i<5;i++) {        showTile("smr",hum_row[i],hum_col[i]);    }    showTile("bdd",cru_row[2],cru_col[2]);    tileStat[cru_row[2]][cru_col[2]] = 2;
    if(hm1timer)        clearInterval(hm1timer);    if(hmgun1timer)        clearTimeout(hmgun1timer);    if(bd3timer)        clearTimeout(bd3timer);
    if(bd4timer)        clearTimeout(bd4timer);    cruiserTimer3();
    if(hm2timer)
        clearInterval(hm2timer);
    if(hm3timer)
        clearInterval(hm3timer);
    if(hm4timer)
        clearInterval(hm4timer);
    if(hm5timer)
        clearInterval(hm5timer);
    if(hm6timer)
        clearInterval(hm6timer);
    if(hm7timer)
        clearInterval(hm7timer);
    if(hm8timer)
        clearInterval(hm8timer);
    if(hm9timer)
        clearInterval(hm9timer);
    if(hmgun2timer)        clearTimeout(hmgun2timer);
    if(hmgun3timer)        clearTimeout(hmgun3timer);
    if(hmgun4timer)        clearTimeout(hmgun4timer);
    if(hmgun5timer)        clearTimeout(hmgun5timer);
    if(hmgun6timer)        clearTimeout(hmgun6timer);
    if(hmgun7timer)        clearTimeout(hmgun7timer);
    if(hmgun8timer)        clearTimeout(hmgun8timer);
    if(hmgun9timer)        clearTimeout(hmgun9timer);
    hm2timer = setInterval("moveHuman(1)",1200);
    hm3timer = setInterval("moveHuman(2)",1140);
    hm4timer = setInterval("moveHuman(3)",920);
    hm5timer = setInterval("moveHuman(4)",1010);
    guyLocation();}
// Functions for when the player reaches the second page of level 2
function lvl2Page2() {
    pageNumber=2;
    if(bd3timer)        clearTimeout(bd3timer);
    hum_row=[-1,5,7,8,13,2,10,4,4];    hum_col=[-1,13,10,13,19,19,15,23,25];    hum_dir=[0,2,1,3,0,1,2,3,0];    bul_count=[1,1,1,1,1,1,1,1,1];    isFrozen=[0,0,0,0,0,0,0,0,0];
    if(hm2timer)
        clearInterval(hm2timer);
    if(hm3timer)
        clearInterval(hm3timer);
    if(hm4timer)
        clearInterval(hm4timer);
    if(hm5timer)
        clearInterval(hm5timer);
    if(hmgun2timer)        clearTimeout(hmgun2timer);
    if(hmgun3timer)        clearTimeout(hmgun3timer);
    if(hmgun4timer)        clearTimeout(hmgun4timer);
    if(hmgun5timer)        clearTimeout(hmgun5timer);
    for (i=0;i<row;i++) {        for(j=0;j<col;j++) {            document.images[col*i+j].src = "images/blank.jpg";
            document.images[col*row+col*i+j].src = "images/blank.png";        }    }
    for (i=0;i<14;i++) {        for(j=0;j<14;j++) {
            if(tileStat[i][j+14]==0)
                showTile("g",i,j+14);            if(tileStat[i][j+14]==1)
                showTile("tr",i,j+14);
            else if(tileStat[i][j+14]==2)
                showTile("bd",i,j+14);
            else if(tileStat[i][j+14]==3)
                showTile("d",i,j+14);
            else if(tileStat[i][j+14]==4)
                showTile("s",i,j+14);        }    }
    showTile("sb",0,14)
    for (i=5;i<9;i++) {        showTile("smr",hum_row[i],hum_col[i]);    }
    hm6timer = setInterval("moveHuman(5)",650);
    hm7timer = setInterval("moveHuman(6)",1300);
    hm8timer = setInterval("moveHuman(7)",710);
    hm9timer = setInterval("moveHuman(8)",520);
    if(cru_col!=-1) {
        tileStat[cru_row[3]][cru_col[3]]=2;
        showTile("bdd",cru_row[3],cru_col[3]);
        cruiserTimer4();
    }
}
function lvl2Page1() {
    pageNumber=1;
    if(bd4timer)        clearTimeout(bd4timer);
    hum_row=[-1,5,7,8,13,2,10,4,4];    hum_col=[-1,13,10,13,10,19,15,23,25];    hum_dir=[0,2,1,3,0,1,2,3,0];    bul_count=[1,1,1,1,1,1,1,1,1];    isFrozen=[0,0,0,0,0,0,0,0,0];
    if(hm6timer)
        clearInterval(hm6timer);
    if(hm7timer)
        clearInterval(hm7timer);
    if(hm8timer)
        clearInterval(hm8timer);
    if(hm9timer)
        clearInterval(hm9timer);
    if(hmgun6timer)        clearTimeout(hmgun6timer);
    if(hmgun7timer)        clearTimeout(hmgun7timer);
    if(hmgun8timer)        clearTimeout(hmgun8timer);
    if(hmgun9timer)        clearTimeout(hmgun9timer);
    for (i=0;i<row;i++) {        for(j=0;j<col;j++) {            document.images[col*i+j].src = "images/blank.jpg";
            document.images[col*row+col*i+j].src = "images/blank.png";        }    }
    for (i=0;i<14;i++) {        for(j=0;j<14;j++) {
            if(tileStat[i][j]==0)
                showTile("g",i,j);            if(tileStat[i][j]==1)
                showTile("tr",i,j);
            else if(tileStat[i][j]==2)
                showTile("bd",i,j);
            else if(tileStat[i][j]==3)
                showTile("d",i,j);
            else if(tileStat[i][j]==4)
                showTile("s",i,j);        }    }
    showTile("sb",0,13)
    for (i=1;i<5;i++) {        showTile("smr",hum_row[i],hum_col[i]);    }
    hm2timer = setInterval("moveHuman(1)",1200);
    hm3timer = setInterval("moveHuman(2)",1140);
    hm4timer = setInterval("moveHuman(3)",920);
    hm5timer = setInterval("moveHuman(4)",1010);
    if(cru_row[2]!=-1) {
        showTile("bdd",cru_row[2],cru_col[2]);
        cruiserTimer3();
    }
}// Function to display an image in a table locationfunction showTile (c, rows, cols) {    if(level==1)        document.images[col*rows+cols].src = "images/" + c + nodes[rows][cols] + ".png";    else if(level==2 && pageNumber==1)        document.images[col*rows+cols].src = "images/" + c + nodes2[rows][cols] + ".png";    else if(level==2 && pageNumber==2)        document.images[col*rows+cols-14].src = "images/" + c + nodes2[rows][cols] + ".png";}// Checks whether the bulldozers and the player are in the same positionfunction checkCruisers() {    if (guy_row == cru_row[0] && guy_col == cru_col[0])        youLose();    else if (guy_row == cru_row[1] && guy_col == cru_col[1])        youLose();
    else if (guy_row == cru_row[2] && guy_col == cru_col[2])        youLose();
    else if (guy_row == cru_row[3] && guy_col == cru_col[3])        youLose();}// Sets the player's new position and calls the above checking functions function guyLocation() {    if (tileStat[guy_row][guy_col] == "1")        var n = "tb";    else if(tileStat[guy_row][guy_col] == "2")        var n = "bb";    else if(tileStat[guy_row][guy_col] == "3")        var n = "db";    else if(tileStat[guy_row][guy_col] == "4")        var n = "sb";
    else if(tileStat[guy_row][guy_col] == "0")        var n = "gb";    if (level==1)        document.images[col*guy_row+guy_col].src = "images/" + n + nodes[guy_row][guy_col] + ".png";    else if (level==2 && pageNumber==1)        document.images[col*guy_row+guy_col].src = "images/" + n + nodes2[guy_row][guy_col] + ".png";    else if (level==2 && pageNumber==2)        document.images[col*guy_row+guy_col-14].src = "images/" + n + nodes2[guy_row][guy_col] + ".png";    checkCruisers();}// Removes the player from his current location and moves his position.function walk(direction) {    guy_dir=direction;    if (level==1) {        if(nodes[guy_row][guy_col].charAt(direction) == 0) {            if (tileStat[guy_row][guy_col] == 1)                showTile("tr",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 2)                showTile("bd",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 3)                showTile("d",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 4)                showTile("s",guy_row,guy_col);
            else if(tileStat[guy_row][guy_col] == 0)                showTile("g",guy_row,guy_col);            if( direction == 0)                guy_row--;            else if( direction == 1)                guy_col++;            else if( direction == 2)                guy_row++;            else if( direction == 3)                guy_col--;            guyLocation();        }    }    else if (level==2) {        if(nodes2[guy_row][guy_col].charAt(direction) == 0) {            if (tileStat[guy_row][guy_col] == 1)                showTile("tr",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 2)                showTile("bd",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 3)                showTile("d",guy_row,guy_col);            else if(tileStat[guy_row][guy_col] == 4)                showTile("s",guy_row,guy_col);
            else if(tileStat[guy_row][guy_col] == 0)                showTile("g",guy_row,guy_col);            if( direction == 0)                guy_row--;            else if( direction == 1) {                guy_col++;
                if (guy_row==0 && guy_col==14)
                    lvl2Page2();
            }            else if( direction == 2)                guy_row++;            else if( direction == 3) {                guy_col--;
                if (guy_row==0 && guy_col==13)
                    lvl2Page1();
            }            guyLocation();        }    }}// Functions to set the timers for when the cruisers move.function cruiserTimer1() {    bd1timer = setTimeout("moveCruiser(0)",810);    checkCruisers();}function cruiserTimer2() {    bd2timer = setTimeout("moveCruiser(1)",650);    checkCruisers();}function cruiserTimer3() {    bd3timer = setTimeout("moveCruiser(2)",970);    checkCruisers();}
function cruiserTimer4() {    bd4timer = setTimeout("moveCruiser(3)",530);    checkCruisers();}function moveCruiser(chosen) {    // Check if the cruiser is moving from a position where a bomb was set off and removes cruiser from map    if (tileStat[cru_row[chosen]][cru_col[chosen]] == 2)        showTile("bd",cru_row[chosen],cru_col[chosen]);    else if (tileStat[cru_row[chosen]][cru_col[chosen]] == 3)        showTile("d",cru_row[chosen],cru_col[chosen]);    // Moves the cruiser's location and creates array which shows the possible directions the cruiser can go (and not be reversed)    if( cru_dir[chosen] == 0){        cru_row[chosen]--;        if (chosen<2) {            var p = nodes[cru_row[chosen]][cru_col[chosen]];        }        else if (chosen<3) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];        }        else if (chosen<4) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];
            if (cru_row[chosen]==6 && cru_col[chosen]==26)                p = "1001";        }        var q=[p.charAt(0),p.charAt(1),1,p.charAt(3)];        var reversed = 2;    }    else if( cru_dir[chosen] == 1) {        cru_col[chosen]++;        if (chosen<2) {            var p = nodes[cru_row[chosen]][cru_col[chosen]];            if (cru_row[chosen]==11 && cru_col[chosen]==6)                p = "1010";        }        else if (chosen<3) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];        }        else if (chosen<4) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];        }        var q=[p.charAt(0),p.charAt(1),p.charAt(2),1];        var reversed = 3;    }    else if( cru_dir[chosen] == 2) {        cru_row[chosen]++;        if (chosen<2) {            var p = nodes[cru_row[chosen]][cru_col[chosen]];        }        else if (chosen<3) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];
            if (cru_row[chosen]==11 && cru_col[chosen]==0)                p = "0011";        }        else if (chosen<4) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];        }        var q=[1,p.charAt(1),p.charAt(2),p.charAt(3)];        var reversed = 0;    }    else if( cru_dir[chosen] == 3) {        cru_col[chosen]--;        if (chosen<2) {            var p = nodes[cru_row[chosen]][cru_col[chosen]];            if (cru_row[chosen]==11 && cru_col[chosen]==6)                p = "1010";        }        else if (chosen<3) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];
            if (cru_row[chosen]==11 && cru_col[chosen]==0)                p = "0011";        }        else if (chosen<4) {            var p = nodes2[cru_row[chosen]][cru_col[chosen]];
            if (cru_row[chosen]==6 && cru_col[chosen]==26)                p = "1001";        }        var q=[p.charAt(0),1,p.charAt(2),p.charAt(3)];        var reversed = 1;    }    // If new location has a tree, change the tileStat of that location    if (tileStat[cru_row[chosen]][cru_col[chosen]] == 1) {        tileStat[cru_row[chosen]][cru_col[chosen]] = 2;    }
    if (tileStat[cru_row[chosen]][cru_col[chosen]] == 0) {        tileStat[cru_row[chosen]][cru_col[chosen]] = 2;    }    // Determines a new direction for cruiser    var decisions = 4;    decisions-=q[0];    decisions-=q[1];    decisions-=q[2];    decisions-=q[3];    var qString=q[0]+q[1]+q[2]+q[3];    if (decisions == 1) {        cru_dir[chosen]=qString.indexOf(0);    }    else if (decisions == 2) {        var statDir0=10;        var statDir1=10;        var dir0;        var dir1;        if(q[0]==0) {            statDir0 = tileStat[cru_row[chosen]-1][cru_col[chosen]];            dir0 = 0;        }        if(q[1]==0) {            if(statDir0==10) {                statDir0 = tileStat[cru_row[chosen]][cru_col[chosen]+1];                dir0 = 1;            }            else {                statDir1 = tileStat[cru_row[chosen]][cru_col[chosen]+1];                dir1 = 1;            }        }        if(q[2]==0) {            if(statDir0==10) {                statDir0 = tileStat[cru_row[chosen]+1][cru_col[chosen]];                dir0 = 2;            }            else{                statDir1 = tileStat[cru_row[chosen]+1][cru_col[chosen]];                dir1 = 2;            }        }        if(q[3]==0) {            statDir1 = tileStat[cru_row[chosen]][cru_col[chosen]-1];            dir1 = 3;        }        if(statDir0<statDir1) {            cru_dir[chosen] = dir0;        }        else if(statDir0>statDir1) {            cru_dir[chosen] = dir1;        }        else {            rand = Math.floor(Math.random()*2);            if (rand == 0)                cru_dir[chosen] = dir0;            else                cru_dir[chosen] = dir1;        }    }    else if (decisions == 3) {        var statDir0=10;        var statDir1=10;        var statDir2=10;        var dir0;        var dir1;        var dir2;        if(q[0]==0) {            statDir0 = tileStat[cru_row[chosen]-1][cru_col[chosen]];            dir0 = 0;        }        if(q[1]==0) {            if(statDir0==10) {                statDir0 = tileStat[cru_row[chosen]][cru_col[chosen]+1];                dir0 = 1;            }            else {                statDir1 = tileStat[cru_row[chosen]][cru_col[chosen]+1];                dir1 = 1;            }        }        if(q[2]==0) {            if(statDir1==10) {                statDir1 = tileStat[cru_row[chosen]+1][cru_col[chosen]];                dir1 = 2;            }            else{                statDir2 = tileStat[cru_row[chosen]+1][cru_col[chosen]];                dir2 = 2;            }        }        if(q[3]==0) {            statDir2 = tileStat[cru_row[chosen]][cru_col[chosen]-1];            dir2 = 3;        }        if(statDir0<statDir1 && statDir0<statDir2) {            cru_dir[chosen] = dir0;        }        else if(statDir1<statDir0 && statDir1<statDir2) {            cru_dir[chosen] = dir1;        }        else if(statDir2<statDir0 && statDir2<statDir1) {            cru_dir[chosen] = dir2;        }        else {            rand = Math.floor(Math.random()*3)            if (rand==reversed) {                cru_dir[chosen]=3;            }            else {                cru_dir[chosen]=rand;            }        }    }    // Show cruiser's new location    if (tileStat[cru_row[chosen]][cru_col[chosen]] == 2) {        switch(cru_dir[chosen]) {            case 0:                showTile("bdu",cru_row[chosen],cru_col[chosen]);                break;            case 1:                showTile("bdr",cru_row[chosen],cru_col[chosen]);                break;            case 2:                showTile("bdd",cru_row[chosen],cru_col[chosen]);                break;            case 3:                showTile("bdl",cru_row[chosen],cru_col[chosen]);                break;        }    }    else if (tileStat[cru_row[chosen]][cru_col[chosen]] == 3) {        switch(cru_dir[chosen]) {            case 0:                showTile("dbu",cru_row[chosen],cru_col[chosen]);                break;            case 1:                showTile("dbr",cru_row[chosen],cru_col[chosen]);                break;            case 2:                showTile("dbd",cru_row[chosen],cru_col[chosen]);                break;            case 3:                showTile("dbl",cru_row[chosen],cru_col[chosen]);                break;        }    }    // Call timer for cruiser    if (chosen==0)        cruiserTimer1();    else if (chosen==1)        cruiserTimer2();    else if (chosen==2)        cruiserTimer3();    else if (chosen==3)        cruiserTimer4();    if (level==1)        checkPools();}function moveHuman(chosen) {    // If the human is busy firing his gun, this function is skipped completely.    if(isFrozen[chosen])        return 0;    // Check what type of ground the human is moving from and removes from map    if (tileStat[hum_row[chosen]][hum_col[chosen]] == 4)        showTile("s",hum_row[chosen],hum_col[chosen]);    else if (tileStat[hum_row[chosen]][hum_col[chosen]] == 3)        showTile("d",hum_row[chosen],hum_col[chosen]);
    else if (tileStat[hum_row[chosen]][hum_col[chosen]] == 0)        showTile("g",hum_row[chosen],hum_col[chosen]);    // Moves the human's location and creates array which shows the possible directions the human can go (and not be reversed)    if( hum_dir[chosen] == 0){        hum_row[chosen]--;        if (chosen<1) {            var p = nodes[hum_row[chosen]][hum_col[chosen]];        }        else if (chosen<5) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            // Stop human from going onto forest tiles
            if(hum_row[chosen]==0 && hum_col[chosen]==13)
                p = "1100";
            else if(hum_row[chosen]==12 && hum_col[chosen]==0)
                p = "1001";        }        else if (chosen<10) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==0 && hum_col[chosen]==14)
                p = "1001";        }        var q=[p.charAt(0),p.charAt(1),1,p.charAt(3)];        var reversed = 2;    }    else if( hum_dir[chosen] == 1) {        hum_col[chosen]++;        if (chosen<1) {            var p = nodes[hum_row[chosen]][hum_col[chosen]];            if (hum_row[chosen]==10 && hum_col[chosen]==6)                p = "1010";        }        else if (chosen<5) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==0 && hum_col[chosen]==13)
                p = "1100";        }        else if (chosen<10) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==5 && hum_col[chosen]==26)
                p = "0110";        }        var q=[p.charAt(0),p.charAt(1),p.charAt(2),1];        var reversed = 3;    }    else if( hum_dir[chosen] == 2) {        hum_row[chosen]++;        if (chosen<1) {            var p = nodes[hum_row[chosen]][hum_col[chosen]];        }        else if (chosen<5) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];        }        else if (chosen<10) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==5 && hum_col[chosen]==26)
                p = "0110";        }        var q=[1,p.charAt(1),p.charAt(2),p.charAt(3)];        var reversed = 0;    }    else if( hum_dir[chosen] == 3) {        hum_col[chosen]--;        if (chosen<1) {            var p = nodes[hum_row[chosen]][hum_col[chosen]];            if (hum_row[chosen]==10 && hum_col[chosen]==6)                p = "1010";        }        else if (chosen<5) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==12 && hum_col[chosen]==0)
                p = "1001";        }        else if (chosen<10) {            var p = nodes2[hum_row[chosen]][hum_col[chosen]];
            if(hum_row[chosen]==0 && hum_col[chosen]==14)
                p = "1001";        }        var q=[p.charAt(0),1,p.charAt(2),p.charAt(3)];        var reversed = 1;    }    // Determine new direction for human    var decisions = 4;    decisions-=q[0];    decisions-=q[1];    decisions-=q[2];    decisions-=q[3];    var qString=q[0]+q[1]+q[2]+q[3];    if (decisions == 1) {        hum_dir[chosen]=qString.indexOf(0);    }    else if (decisions == 2) {        var dir0=4;        var dir1=4;        if(q[0]==0) {            dir0=0;        }        if(q[1]==0) {            if(dir0==4) {                dir0=1;            }            else {                dir1=1;            }        }        if(q[2]==0) {            if(dir0==4) {                dir0=2;            }            else {                dir1=2;            }        }        if(q[3]==0) {            dir1=3;        }        rand = Math.floor(Math.random()*2);        if (rand == 0) {            hum_dir[chosen]=dir0;        }        else {            hum_dir[chosen]=dir1;        }    }    else if (decisions == 3) {        rand = Math.floor(Math.random()*3);        if (rand == reversed) {            hum_dir[chosen]=3;        }        else {            hum_dir[chosen]=rand;        }    }    // Show human's new location    if (tileStat[hum_row[chosen]][hum_col[chosen]] == 4) {        switch(hum_dir[chosen]) {            case 0:            case 1:                showTile("smr",hum_row[chosen],hum_col[chosen]);                break;            case 2:            case 3:                showTile("sml",hum_row[chosen],hum_col[chosen]);                break;        }    }    if (tileStat[hum_row[chosen]][hum_col[chosen]] == 3) {        switch(hum_dir[chosen]) {            case 0:            case 1:                showTile("dmr",hum_row[chosen],hum_col[chosen]);                break;            case 2:            case 3:                showTile("dml",hum_row[chosen],hum_col[chosen]);                break;        }    }
    if (tileStat[hum_row[chosen]][hum_col[chosen]] == 0) {        switch(hum_dir[chosen]) {            case 0:            case 1:                showTile("gmr",hum_row[chosen],hum_col[chosen]);                break;            case 2:            case 3:                showTile("gml",hum_row[chosen],hum_col[chosen]);                break;        }    }    // Check if player is in the line of sight    if (chosen==0) {        if (checkLOS(0)) {            isFrozen[0]=1;            hmgun1timer = setTimeout("shootGun(0)",1400);        }    }
    if (chosen==1) {        if (checkLOS(1)) {            isFrozen[1]=1;            hmgun2timer = setTimeout("shootGun(1)",100);        }    }
    if (chosen==2) {        if (checkLOS(2)) {            isFrozen[2]=1;            hmgun3timer = setTimeout("shootGun(2)",700);        }    }
    if (chosen==3) {        if (checkLOS(3)) {            isFrozen[3]=1;            hmgun4timer = setTimeout("shootGun(3)",400);        }    }
    if (chosen==4) {        if (checkLOS(4)) {            isFrozen[4]=1;            hmgun5timer = setTimeout("shootGun(4)",900);        }    }
    if (chosen==5) {        if (checkLOS(5)) {            isFrozen[5]=1;            hmgun6timer = setTimeout("shootGun(5)",500);        }    }
    if (chosen==6) {        if (checkLOS(6)) {            isFrozen[6]=1;            hmgun7timer = setTimeout("shootGun(6)",400);        }    }
    if (chosen==7) {        if (checkLOS(7)) {            isFrozen[7]=1;            hmgun8timer = setTimeout("shootGun(7)",300);        }    }
    if (chosen==8) {        if (checkLOS(8)) {            isFrozen[8]=1;            hmgun9timer = setTimeout("shootGun(8)",200);        }    }}// The following functions control shooting for the humans on the fieldfunction checkLOS(chosen) {    var grow=guy_row;    var gcol=guy_col;    if (hum_dir[chosen]==0) {        if (hum_row[chosen]>grow && hum_col[chosen]==gcol) {            for(i=(hum_row[chosen]-grow);i>=1;i--) {                if(level==1 && nodes[grow+i][hum_col[chosen]].charAt(0)==1) {                    return 0;                }
                else if(level==2 && nodes2[grow+i][hum_col[chosen]].charAt(0)==1) {                    return 0;                }            }            return 1;        }    }    else if (hum_dir[chosen]==1) {        if (hum_row[chosen]==grow && hum_col[chosen]<gcol) {            for(i=(gcol-hum_col[chosen]);i>=1;i--) {                if(level==1 && nodes[hum_row[chosen]][gcol-i].charAt(1)==1) {                    return 0;                }
                else if(level==2 && nodes2[hum_row[chosen]][gcol-i].charAt(1)==1) {                    return 0;                }            }            return 1;        }    }    else if (hum_dir[chosen]==2) {        if (hum_row[chosen]<grow && hum_col[chosen]==gcol) {            for(i=(grow-hum_row[chosen]);i>=1;i--) {                if(level==1 && nodes[grow-i][hum_col[chosen]].charAt(2)==1) {                    return 0;                }
                else if(level==2 && nodes2[grow-i][hum_col[chosen]].charAt(2)==1) {                    return 0;                }            }            return 1;        }    }    else if (hum_dir[chosen]==3) {        if (hum_row[chosen]==grow && hum_col[chosen]>gcol) {            for(i=(hum_col[chosen]-gcol);i>=1;i--) {                if(level==1 && nodes[hum_row[chosen]][gcol+i].charAt(3)==1) {                    return 0;                }
                else if(level==2 && nodes2[hum_row[chosen]][gcol+i].charAt(3)==1) {                    return 0;                }            }            return 1;        }    }    return 0;}function shootGun(chosen) {
    if(level==2 && pageNumber==2)
        colFixer=14;
    else
        colFixer=0;    if (hum_dir[chosen]==0) {        document.images[col*row+col*(hum_row[chosen]-1)+(hum_col[chosen]-colFixer)].src="images/bullet.png";        if (checkBullet(hum_row[chosen]-1,hum_col[chosen]))            return 0;    }    else if (hum_dir[chosen]==1) {        document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer+1)].src="images/bullet.png";        if (checkBullet(hum_row[chosen],hum_col[chosen]+1))            return 0;    }    else if (hum_dir[chosen]==2) {        document.images[col*row+col*(hum_row[chosen]+1)+(hum_col[chosen]-colFixer)].src="images/bullet.png";        if (checkBullet(hum_row[chosen]+1,hum_col[chosen]))            return 0;    }    else if (hum_dir[chosen]==3) {        document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer-1)].src="images/bullet.png";        if (checkBullet(hum_row[chosen],hum_col[chosen]-1))            return 0;    }
    if(chosen==0)        setTimeout("moveBullet(0)",120);
    else if(chosen==1)
        setTimeout("moveBullet(1)",120);
    else if(chosen==2)
        setTimeout("moveBullet(2)",120);
    else if(chosen==3)
        setTimeout("moveBullet(3)",120);
    else if(chosen==4)
        setTimeout("moveBullet(4)",120);
    else if(chosen==5)
        setTimeout("moveBullet(5)",120);
    else if(chosen==6)
        setTimeout("moveBullet(6)",120);
    else if(chosen==7)
        setTimeout("moveBullet(7)",120);
    else if(chosen==8)
        setTimeout("moveBullet(8)",120);}function checkBullet(r,c) {    if(r==guy_row && c==guy_col) {        youLose();        return 1;    }    return 0;}function moveBullet(chosen) {    var bulletMoved=0;
    if(level==2 && pageNumber==2)
        colFixer=14;
    else
        colFixer=0;    if (hum_dir[chosen]==0) {        document.images[col*row+col*(hum_row[chosen]-bul_count[chosen])+(hum_col[chosen]-colFixer)].src="images/blank.png";        if ((level ==1 && nodes[hum_row[chosen]-bul_count[chosen]][hum_col[chosen]].charAt(0)==0) || (level ==2 && nodes2[hum_row[chosen]-bul_count[chosen]][hum_col[chosen]].charAt(0)==0)) {            bulletMoved=1;            bul_count[chosen]++;            document.images[col*row+col*(hum_row[chosen]-bul_count[chosen])+(hum_col[chosen]-colFixer)].src="images/bullet.png";            if (checkBullet(hum_row[chosen]-bul_count[chosen],hum_col[chosen]))                return 0;        }    }    else if (hum_dir[chosen]==1) {        document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer+bul_count[chosen])].src="images/blank.png";        if ((level==1 && nodes[hum_row[chosen]][hum_col[chosen]+bul_count[chosen]].charAt(1)==0) || (level==2 && nodes2[hum_row[chosen]][hum_col[chosen]+bul_count[chosen]].charAt(1)==0)) {            bulletMoved=1;            bul_count[chosen]++;            document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer+bul_count[chosen])].src="images/bullet.png";            if (checkBullet(hum_row[chosen],hum_col[chosen]+bul_count[chosen]))                return 0;        }    }    else if (hum_dir[chosen]==2) {        document.images[col*row+col*(hum_row[chosen]+bul_count[chosen])+(hum_col[chosen]-colFixer)].src="images/blank.png";        if ((level==1 && nodes[hum_row[chosen]+bul_count[chosen]][hum_col[chosen]].charAt(2)==0) || (level==2 && nodes2[hum_row[chosen]+bul_count[chosen]][hum_col[chosen]].charAt(2)==0)) {            bulletMoved=1;            bul_count[chosen]++;            document.images[col*row+col*(hum_row[chosen]+bul_count[chosen])+(hum_col[chosen]-colFixer)].src="images/bullet.png";            if (checkBullet(hum_row[chosen]+bul_count[chosen],hum_col[chosen]))                return 0;        }    }    else if (hum_dir[chosen]==3) {        document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer-bul_count[chosen])].src="images/blank.png";        if ((level==1 && nodes[hum_row[chosen]][hum_col[chosen]-bul_count[chosen]].charAt(3)==0) || (level==2 && nodes2[hum_row[chosen]][hum_col[chosen]-bul_count[chosen]].charAt(3)==0)) {            bulletMoved=1;            bul_count[chosen]++;            document.images[col*row+col*(hum_row[chosen])+(hum_col[chosen]-colFixer-bul_count[chosen])].src="images/bullet.png";            if (checkBullet(hum_row[chosen],hum_col[chosen]-bul_count[chosen]))                return 0;        }    }    if(chosen==0) {        if (bulletMoved) {            setTimeout("moveBullet(0)",120);        }        else {            bul_count[0]=1;            isFrozen[0]=0;        }    }
    else if(chosen==1) {        if (bulletMoved) {            setTimeout("moveBullet(1)",120);        }        else {            bul_count[1]=1;            isFrozen[1]=0;        }    }
    else if(chosen==2) {        if (bulletMoved) {            setTimeout("moveBullet(2)",120);        }        else {            bul_count[2]=1;            isFrozen[2]=0;        }    }
    else if(chosen==3) {        if (bulletMoved) {            setTimeout("moveBullet(3)",120);        }        else {            bul_count[3]=1;            isFrozen[3]=0;        }    }
    else if(chosen==4) {        if (bulletMoved) {            setTimeout("moveBullet(4)",120);        }        else {            bul_count[4]=1;            isFrozen[4]=0;        }    }
    else if(chosen==5) {        if (bulletMoved) {            setTimeout("moveBullet(5)",120);        }        else {            bul_count[5]=1;            isFrozen[5]=0;        }    }
    else if(chosen==6) {        if (bulletMoved) {            setTimeout("moveBullet(6)",120);        }        else {            bul_count[6]=1;            isFrozen[6]=0;        }    }
    else if(chosen==7) {        if (bulletMoved) {            setTimeout("moveBullet(7)",120);        }        else {            bul_count[7]=1;            isFrozen[7]=0;        }    }
    else if(chosen==8) {        if (bulletMoved) {            setTimeout("moveBullet(8)",120);        }        else {            bul_count[8]=1;            isFrozen[8]=0;        }    }}// The following functions control bombingfunction plantTNT() {    if(bombTimer1)        return 0;    tntrow = guy_row;    tntcol = guy_col;    bombTimer1 = setTimeout("blowUp(tntrow,tntcol)",1000);}function blowUp(tntrow,tntcol) {    if(bombTimer1) {
        if(level==2 && pageNumber==2)            document.images[col*tntrow+tntcol-14].src = "images/explzn.png";
        else 
            document.images[col*tntrow+tntcol].src = "images/explzn.png";        if (checkBomb(tntrow,tntcol))            return 0;        tileStat[tntrow][tntcol] = 3;        bombTimer2 = setTimeout("dustSettles(tntrow,tntcol)",125);    }}function dustSettles(tntrow,tntcol) {    if(bombTimer1) {        if (checkBomb(tntrow,tntcol))            return 0;        showTile("d",tntrow,tntcol);        bombTimer1=0;    }}function checkBomb(tntrow,tntcol) {    if (guy_row == tntrow && guy_col == tntcol) {        youLose();        return 1;    }    if (cru_row[0] == tntrow && cru_col[0] == tntcol) {        clearTimeout(bd1timer);        cru_row[0]=-1;        cru_col[0]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }    if (cru_row[1] == tntrow && cru_col[1] == tntcol) {        clearTimeout(bd2timer);        cru_row[1]=-1;        cru_col[1]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }    if (cru_row[2] == tntrow && cru_col[2] == tntcol) {        clearTimeout(bd3timer);        cru_row[2]=-1;        cru_col[2]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }    if (cru_row[3] == tntrow && cru_col[3] == tntcol) {        clearTimeout(bd4timer);        cru_row[3]=-1;        cru_col[3]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }    if (hum_row[0] == tntrow && hum_col[0] == tntcol) {        clearInterval(hm1timer);        killCount=1;    }
    if (hum_row[1] == tntrow && hum_col[1] == tntcol) {        clearInterval(hm2timer);    }
    if (hum_row[2] == tntrow && hum_col[2] == tntcol) {        clearInterval(hm3timer);    }
    if (hum_row[3] == tntrow && hum_col[3] == tntcol) {        clearInterval(hm4timer);    }
    if (hum_row[4] == tntrow && hum_col[4] == tntcol) {        clearInterval(hm5timer);    }
    if (hum_row[5] == tntrow && hum_col[5] == tntcol) {        clearInterval(hm6timer);    }
    if (hum_row[6] == tntrow && hum_col[6] == tntcol) {        clearInterval(hm7timer);    }
    if (hum_row[7] == tntrow && hum_col[7] == tntcol) {        clearInterval(hm8timer);    }
    if (hum_row[8] == tntrow && hum_col[8] == tntcol) {        clearInterval(hm9timer);    }    return 0;}// The following functions control special powers, which are gained after the fourth level.function special1() {    if(special1Timer || level==1)        return 0;
    if(level==2 && pageNumber==2)
        colFixer=14;
    else
        colFixer=0;    specrow=guy_row;    speccol=guy_col;    if (killCount==0) {        switch(guy_dir) {            case 0:                if ((specrow-3)>=0) {                    document.images[col*row+col*(specrow-3)+speccol-colFixer].src="images/vines.png";                    if (special1check(specrow-3,speccol))                        return 0;
                    if(tileStat[specrow-3][speccol]==1) {}
                    else {
                        tileStat[specrow-3][speccol]=0;                        showTile("g", specrow-3, speccol);
                    }                    setTimeout("special1end(specrow-3,speccol)",400);                    special1Timer = setTimeout("special1end2()",2000);                }                break;
            case 1:                if ((speccol+3-colFixer)<14) {                    document.images[col*row+col*(specrow)+(speccol+3)-colFixer].src="images/vines.png";                    if (special1check(specrow,speccol+3))                        return 0;
                    if(tileStat[specrow][speccol+3]==1) {}
                    else {
                        tileStat[specrow][speccol+3]=0;                        showTile("g", specrow, speccol+3);
                    }                    setTimeout("special1end(specrow,speccol+3)",400);                    special1Timer = setTimeout("special1end2()",2000);                }                break;
            case 2:                if ((specrow+3)<14) {                    document.images[col*row+col*(specrow+3)+speccol-colFixer].src="images/vines.png";                    if (special1check(specrow+3,speccol))                        return 0;
                    if(tileStat[specrow+3][speccol]==1) {}
                    else {
                        tileStat[specrow+3][speccol]=0;                        showTile("g", specrow+3, speccol);
                    }                    setTimeout("special1end(specrow+3,speccol)",400);                    special1Timer = setTimeout("special1end2()",2000);                }                break;
            case 3:                if ((speccol-3-colFixer)>=0) {                    document.images[col*row+col*(specrow)+(speccol-3)-colFixer].src="images/vines.png";                    if (special1check(specrow,speccol-3))                        return 0;
                    if(tileStat[specrow][speccol-3]==1) {}
                    else {
                        tileStat[specrow][speccol-3]=0;                        showTile("g", specrow, speccol-3);
                    }                    setTimeout("special1end(specrow,speccol-3)",400);                    special1Timer = setTimeout("special1end2()",2000);                }                break;        }    }
    else if(killCount==1) {
        switch(guy_dir) {            case 0:                if ((specrow-1)>=0) {                    document.images[col*row+col*(specrow-1)+speccol-colFixer].src="images/acid.png";                    if (special1check(specrow-1,speccol))                        return 0;
                    tileStat[specrow-1][speccol]=3;                    showTile("d", specrow-1, speccol);                    setTimeout("special1end(specrow-1,speccol)",270);                    special1Timer = setTimeout("special1end2()",3000);                }
                if ((specrow-2)>=0) {                    document.images[col*row+col*(specrow-2)+speccol-colFixer].src="images/acid.png";                    if (special1check(specrow-2,speccol))                        return 0;
                    tileStat[specrow-2][speccol]=3;                    showTile("d", specrow-2, speccol);                    setTimeout("special1end(specrow-2,speccol)",320);
                    if((speccol-1-colFixer)>=0) {
                        document.images[col*row+col*(specrow-2)+(speccol-1)-colFixer].src="images/acid.png";                        if (special1check(specrow-2,speccol-1))                            return 0;
                         tileStat[specrow-2][speccol-1]=3;                         showTile("d", specrow-2, speccol-1);                        setTimeout("special1end(specrow-2,speccol-1)",320);
                    }
                    if((speccol+1-colFixer)<14) {
                        document.images[col*row+col*(specrow-2)+(speccol+1)-colFixer].src="images/acid.png";                        if (special1check(specrow-2,speccol+1))                            return 0;
                         tileStat[specrow-2][speccol+1]=3;                         showTile("d", specrow-2, speccol+1);                        setTimeout("special1end(specrow-2,speccol+1)",320);
                    }                }                break;
            case 1:                if ((speccol+1-colFixer)<14) {                    document.images[col*row+col*(specrow)+(speccol+1)-colFixer].src="images/acid.png";                    if (special1check(specrow,speccol+1))                        return 0;
                    tileStat[specrow][speccol+1]=3;                    showTile("d", specrow, speccol+1);                    setTimeout("special1end(specrow,speccol+1)",270);                    special1Timer = setTimeout("special1end2()",3000);                }
                if ((speccol+2-colFixer)<14) {                    document.images[col*row+col*(specrow)+(speccol+2)-colFixer].src="images/acid.png";                    if (special1check(specrow,speccol+2))                        return 0;
                    tileStat[specrow][speccol+2]=3;                    showTile("d", specrow, speccol+2);                    setTimeout("special1end(specrow,speccol+2)",320);
                    if((specrow-1)>=0) {
                        document.images[col*row+col*(specrow-1)+(speccol+2)-colFixer].src="images/acid.png";                        if (special1check(specrow-1,speccol+2))                            return 0;
                         tileStat[specrow-1][speccol+2]=3;                         showTile("d", specrow-1, speccol+2);                        setTimeout("special1end(specrow-1,speccol+2)",320);
                    }
                    if((specrow+1)<14) {
                        document.images[col*row+col*(specrow+1)+(speccol+2)-colFixer].src="images/acid.png";                        if (special1check(specrow+1,speccol+2))                            return 0;
                         tileStat[specrow+1][speccol+2]=3;                         showTile("d", specrow+1, speccol+2);                        setTimeout("special1end(specrow+1,speccol+2)",320);
                    }                }                break;
            case 2:                if ((specrow+1)<14) {                    document.images[col*row+col*(specrow+1)+speccol-colFixer].src="images/acid.png";                    if (special1check(specrow+1,speccol))                        return 0;
                    tileStat[specrow+1][speccol]=3;                    showTile("d", specrow+1, speccol);                    setTimeout("special1end(specrow+1,speccol)",270);                    special1Timer = setTimeout("special1end2()",3000);                }
                if ((specrow+2)<14) {                    document.images[col*row+col*(specrow+2)+speccol-colFixer].src="images/acid.png";                    if (special1check(specrow+2,speccol))                        return 0;
                    tileStat[specrow+2][speccol]=3;                    showTile("d", specrow+2, speccol);                    setTimeout("special1end(specrow+2,speccol)",320);
                    if((speccol-1-colFixer)>=0) {
                        document.images[col*row+col*(specrow+2)+(speccol-1)-colFixer].src="images/acid.png";                        if (special1check(specrow+2,speccol-1))                            return 0;
                         tileStat[specrow+2][speccol-1]=3;                         showTile("d", specrow+2, speccol-1);                        setTimeout("special1end(specrow+2,speccol-1)",320);
                    }
                    if((speccol+1-colFixer)<14) {
                        document.images[col*row+col*(specrow+2)+(speccol+1)-colFixer].src="images/acid.png";                        if (special1check(specrow+2,speccol+1))                            return 0;
                         tileStat[specrow+2][speccol+1]=3;                         showTile("d", specrow+2, speccol+1);                        setTimeout("special1end(specrow+2,speccol+1)",320);
                    }                }                break;
            case 3:                if ((speccol-1-colFixer)>=0) {                    document.images[col*row+col*(specrow)+(speccol-1)-colFixer].src="images/acid.png";                    if (special1check(specrow,speccol-1))                        return 0;
                    tileStat[specrow][speccol-1]=3;                    showTile("d", specrow, speccol-1);                    setTimeout("special1end(specrow,speccol-1)",270);                    special1Timer = setTimeout("special1end2()",3000);                }
                if ((speccol-2-colFixer)>=0) {                    document.images[col*row+col*(specrow)+(speccol-2)-colFixer].src="images/acid.png";                    if (special1check(specrow,speccol-2))                        return 0;
                    tileStat[specrow][speccol-2]=3;                    showTile("d", specrow, speccol-2);                    setTimeout("special1end(specrow,speccol-2)",320);
                    if((specrow-1)>=0) {
                        document.images[col*row+col*(specrow-1)+(speccol-2)-colFixer].src="images/acid.png";                        if (special1check(specrow-1,speccol-2))                            return 0;
                         tileStat[specrow-1][speccol-2]=3;                         showTile("d", specrow-1, speccol-2);                        setTimeout("special1end(specrow-1,speccol-2)",320);
                    }
                    if((specrow+1)<14) {
                        document.images[col*row+col*(specrow+1)+(speccol-2)-colFixer].src="images/acid.png";                        if (special1check(specrow+1,speccol-2))                            return 0;
                         tileStat[specrow+1][speccol-2]=3;                         showTile("d", specrow+1, speccol-2);                        setTimeout("special1end(specrow+1,speccol-2)",320);
                    }                }                break;
        }   
    }}function special1check(r,c) {    if (cru_row[2] == r && cru_col[2] == c) {        clearTimeout(bd3timer);        cru_row[2]=-1;        cru_col[2]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }    if (cru_row[3] == r && cru_col[3] == c) {        clearTimeout(bd4timer);        cru_row[3]=-1;        cru_col[3]=-1;        winnerCount--;        if (winnerCount==0) {            youWin();            return 1;        }    }
    if (hum_row[1] == r && hum_col[1] == c) {        clearInterval(hm2timer);    }
    if (hum_row[2] == r && hum_col[2] == c) {        clearInterval(hm3timer);    }
    if (hum_row[3] == r && hum_col[3] == c) {        clearInterval(hm4timer);    }
    if (hum_row[4] == r && hum_col[4] == c) {        clearInterval(hm5timer);    }
    if (hum_row[5] == r && hum_col[5] == c) {        clearInterval(hm6timer);    }
    if (hum_row[6] == r && hum_col[6] == c) {        clearInterval(hm7timer);    }
    if (hum_row[7] == r && hum_col[7] == c) {        clearInterval(hm8timer);    }
    if (hum_row[8] == r && hum_col[8] == c) {        clearInterval(hm9timer);    }    return 0;}function special1end(r,c) {
    if(level==2 && pageNumber==2)        document.images[col*row+col*(r)+c-14].src="images/blank.png";
    else
        document.images[col*row+col*(r)+c].src="images/blank.png";}function special1end2() {    special1Timer = 0;}function checkPools() {    p1 = tileStat[0][1]+tileStat[1][0]+tileStat[2][1]+tileStat[1][2];    p2 = tileStat[7][5]+tileStat[8][4]+tileStat[9][5]+tileStat[8][6];    p3 = tileStat[7][6]+tileStat[8][5]+tileStat[9][6]+tileStat[8][7];    p4 = tileStat[0][10]+tileStat[1][9]+tileStat[2][10]+tileStat[1][11];    if (p1>5 && tileStat[1][1]==1) {        tileStat[1][1] = 2;        NOpools--;        showTile("bd",1,1);    }    if (p4>5 && tileStat[1][10]==1) {        tileStat[1][10] = 2;        NOpools--;        showTile("bd",1,10);    }    if (p2>5 && tileStat[8][5]==1) {        tileStat[8][5] = 2;        NOpools--;        showTile("bd",8,5);    }    if (p3>5 && tileStat[8][6]==1) {        tileStat[8][6] = 2;        NOpools--;        showTile("bd",8,6);    }}// Functions for calculating player's scorefunction calcPools() {    pools=tileStat[1][1]+tileStat[1][10]+tileStat[8][5]+tileStat[8][6];    return pools;}function calcForest() {    var treesnpools=0;    if (level==1) {        for(i=0;i<12;i++) {            for(j=0;j<12;j++) {                if (tileStat[i][j]==1)                    treesnpools++;            }        }    }    trees=treesnpools-NOpools;    return trees;}function calcScore() {    theScore = NOpools * 5 + calcForest()    return theScore;}function KeyCheck(e) {    var KeyID = (window.event) ? event.keyCode : e.keyCode;    switch(KeyID) {        case 87:            walk(0);            break;        case 68:            walk(1);            break;        case 83:            walk(2);            break;        case 65:            walk(3);            break;        case 66:            plantTNT();            break;        case 78:            special1();            break;        case 37:            guy_dir=3;            break;        case 38:            guy_dir=0;            break;        case 39:            guy_dir=1;            break;        case 40:            guy_dir=2;            break;    }}function pauseButton() {    alert("Game Paused");}// Functions shown if player wins or losesfunction youWin() {
    if(level==1) {
        alert("YOU WIN! Your forest is safe. For now...\nTrees saved: " + calcForest() + "\nPools saved: " + NOpools + "\nTotal score: " + calcScore());
        level5Intro();
    }
    else if(level==2) {
        alert("Oh. You won the game... Good job.");
        window.location.href="start.html";
    }    bombTimer1=0;}var loseFlag = false;function youLose() {	if(loseFlag)		return false;	loseFlag = true;    alert("Oh dear.... it looks like you're dead. While your remains decompose, your forest is rapidly converted into timber.");    bombTimer1=0;    var answer = confirm("Try again?");    if(answer) {
        if(level==1)            initializer1();
        else if(level==2)
            initializer2();
    }    else        window.location.href="start.html";	loseFlag = false;}
function level5Intro() {
    if(killCount)
        document.getElementById("weapon2").value="AB";
    else
        document.getElementById("weapon2").value="SG";
    browserWidth=document.body.clientWidth;    browserHeight=document.body.clientHeight;
    if(killCount) {
        document.AofD.style.zIndex="3";
        document.AofD.width = browserWidth-20;
        document.AofD.height = browserHeight-10;
        document.AofD.style.visibility ="visible";
    }
    else {
        document.AofL.style.zIndex="3";
        document.AofL.width = browserWidth-20;        document.AofL.height = browserHeight-10;
        document.AofL.style.visibility ="visible";
   }
   setTimeout("startLvl5()",3500);
}
function startLvl5() {
    var answer = confirm("Oh no! Here come some more...");    if(answer) {
        initializer2();
    }    else        window.location.href="start.html";     if(killCount) {
        document.AofD.style.visibility ="hidden";
        document.AofD.width = 20;
        document.AofD.height = 20;
        document.AofD.style.zIndex="-1";
    }
    else {
        document.AofL.style.visibility ="hidden";
        document.AofL.width = 20;        document.AofL.height = 20;
        document.AofL.style.zIndex="0";
    }
    if(level==2)
         alert("Press the \"N\" key to use your new ability! (The arrow keys will change the direction you're facing...) \n\n\t\t\t\t\t\t\t\t\t PNDA");}</script></html>